<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <title>mozzie's den</title>
    <meta name="author" content="Mozzie Dvorak (mdvorak.personal@gmail.com)" />
    <meta name="description" content="gay little wiki-style demo built for fun" />
    <meta name="theme-color" content="#2D4F67" />
    <meta name="color-scheme" content="light dark" />

    <link type="image/x-icon" rel="icon" href="./images/favicon.ico" />
    <link type="text/css" rel="stylesheet" href="./index.xhtml.css" />
  </head>

  <body>
    <nav>
      <a href="?page=home" title="?page=home">Home</a>
      <a href="?page=code" title="?page=code">This Site</a>
      <a href="?page=art" title="?page=art">My Art</a>
    </nav>

    <main id="xhr-page" hidden="">
      <header>
        <h1 class="text-error">ERROR: Page not found!</h1>
      </header>
      <section>
        <span>
          It seems that page doesn't existâ€¦ not yet!
          <br />
          Or, perhaps not anymore?
        </span>
      </section>
    </main>
    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const pageName = urlParams.get('page') || 'home';
      const xhrPage = document.getElementById('xhr-page');

      var xhr = new XMLHttpRequest();

      xhr.onreadystatechange = function() {
        if (this.readyState == 4) {
          switch (this.status) {
            case 200:
              xhrPage.innerHTML = this.responseText;
              document.title += " | " + pageName;
            default:
              xhrPage.removeAttribute('hidden');
          }
        }
      }

      xhr.open("GET", `./pages/${pageName}.xhtml`);
      xhr.send();
    </script>

    <footer>
      <code>char author[] = "<span class="text-text">Mozzie Dvorak</span>";</code>
      <br />
      <code>char host[]   = "<span class="text-text">Github Pages</span>"; </code>
    </footer>

    <script>
      function copyText(element) {
        window.navigator.clipboard.writeText(element.innerText);
      }
    </script>
  </body>
</html>
